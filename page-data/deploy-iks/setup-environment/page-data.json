{"componentChunkName":"component---src-pages-deploy-iks-setup-environment-index-mdx","path":"/deploy-iks/setup-environment/","result":{"pageContext":{"frontmatter":{"title":"Environment Setup","description":"Environment Setup for IKS auto scaling","keywords":"ibm cloud iks environment setup autoscaling"},"relativePagePath":"/deploy-iks/setup-environment/index.mdx","titleType":"page","MdxNode":{"id":"3af0e012-5821-58bb-b4f2-54fe229341b0","children":[],"parent":"f5d88127-8eee-5395-8b02-63cdbadf03a3","internal":{"content":"---\ntitle: Environment Setup\ndescription: Environment Setup for IKS auto scaling\nkeywords: 'ibm cloud iks environment setup autoscaling'\n---\n\n<AnchorLinks small>\n  <AnchorLink>Create an instance of VPC Gen2</AnchorLink>\n  <AnchorLink>Create IKS on VPC Infrastructure</AnchorLink>\n  <AnchorLink>Install the IBM Cloud CLI and plug-ins</AnchorLink>\n  <AnchorLink>Install Kubernetes CLI</AnchorLink>\n  <AnchorLink>Gain access to your cluster</AnchorLink>\n</AnchorLinks>\n\n## Create an instance of VPC Gen2\n\nCreate a Virtual Private Cloud (VPC) on generation 2 compute with a subnet that is located in the zone where you want to create the cluster. Make sure to attach a public gateway to your subnet so that you can access public endpoints from your cluster.\n\nCreate a standard VPC Generation 2 compute cluster by using the IBM Cloud console. For more detailed information, please refer \n[here](https://cloud.ibm.com/docs/vpc?topic=vpc-creating-a-vpc-using-the-ibm-cloud-console). \n\nOnce VPC is created, you need to edit the default security group to allow incoming network traffic from the VPC load balancers. Follow the steps given [here](https://cloud.ibm.com/docs/containers?topic=containers-vpc-firewall#security_groups_ui)\nfor opening security group ports via console. \nAfter editing, the Default Security Group of your VPC will show Inbound rules as shown in snapshot below.\n\n![Security Group](./images/vpc-security-group.png) \n\n## Create IKS on VPC Infrastructure\n\nFollow the instructions given [here](https://cloud.ibm.com/docs/containers?topic=containers-getting-started#vpc-classic-gs) and create an IKS instance on VPC. For this pattern, we have created IKS which has worker pool (2vCPU and 4GB RAM) with three worker nodes. Once created, wait for some time (~40 minutes) for the cluster to get ready. \n\n## Install the IBM Cloud CLI and plug-ins\n\nIt includes the installation of these CLIs and plug-ins:\n\n  1. IBM Cloud CLI (ibmcloud)\n  2. IBM Cloud Kubernetes Service plug-in (ibmcloud ks)\n  3. IBM Cloud Container Registry plug-in (ibmcloud cr)\n\nRefer to the [link](https://cloud.ibm.com/docs/containers?topic=containers-cs_cli_install#cs_cli_install_steps) to install these.\n\n## Install Kubernetes CLI\n\nTo work with your cluster, you need to install the Kubernetes CLI. Please refer this [link](https://cloud.ibm.com/docs/containers?topic=containers-cs_cli_install#kubectl). \n\n## Gain access to your cluster\n\nGo to IBM Cloud dashboard and navigate to your Kubernetes cluster. Click on the `Access` tab as shown below.\n\n![Access Your Cluster](./images/access-cluster.png) \n\nPerform the steps given in `access` tab.\n\n<InlineNotification>\n\n**NOTE:**\nNeed to complete these configuration steps every time that you work with your cluster.\n\n</InlineNotification>\n\nVerify the environment using the following command.\n\n```bash\nkubectl config current-context\n```\n\nIt should return the details of the cluster that you are planning to work with.\n\n","type":"Mdx","contentDigest":"8b48180cc9f01d5908e149aa04aba4da","counter":721,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Environment Setup","description":"Environment Setup for IKS auto scaling","keywords":"ibm cloud iks environment setup autoscaling"},"exports":{},"rawBody":"---\ntitle: Environment Setup\ndescription: Environment Setup for IKS auto scaling\nkeywords: 'ibm cloud iks environment setup autoscaling'\n---\n\n<AnchorLinks small>\n  <AnchorLink>Create an instance of VPC Gen2</AnchorLink>\n  <AnchorLink>Create IKS on VPC Infrastructure</AnchorLink>\n  <AnchorLink>Install the IBM Cloud CLI and plug-ins</AnchorLink>\n  <AnchorLink>Install Kubernetes CLI</AnchorLink>\n  <AnchorLink>Gain access to your cluster</AnchorLink>\n</AnchorLinks>\n\n## Create an instance of VPC Gen2\n\nCreate a Virtual Private Cloud (VPC) on generation 2 compute with a subnet that is located in the zone where you want to create the cluster. Make sure to attach a public gateway to your subnet so that you can access public endpoints from your cluster.\n\nCreate a standard VPC Generation 2 compute cluster by using the IBM Cloud console. For more detailed information, please refer \n[here](https://cloud.ibm.com/docs/vpc?topic=vpc-creating-a-vpc-using-the-ibm-cloud-console). \n\nOnce VPC is created, you need to edit the default security group to allow incoming network traffic from the VPC load balancers. Follow the steps given [here](https://cloud.ibm.com/docs/containers?topic=containers-vpc-firewall#security_groups_ui)\nfor opening security group ports via console. \nAfter editing, the Default Security Group of your VPC will show Inbound rules as shown in snapshot below.\n\n![Security Group](./images/vpc-security-group.png) \n\n## Create IKS on VPC Infrastructure\n\nFollow the instructions given [here](https://cloud.ibm.com/docs/containers?topic=containers-getting-started#vpc-classic-gs) and create an IKS instance on VPC. For this pattern, we have created IKS which has worker pool (2vCPU and 4GB RAM) with three worker nodes. Once created, wait for some time (~40 minutes) for the cluster to get ready. \n\n## Install the IBM Cloud CLI and plug-ins\n\nIt includes the installation of these CLIs and plug-ins:\n\n  1. IBM Cloud CLI (ibmcloud)\n  2. IBM Cloud Kubernetes Service plug-in (ibmcloud ks)\n  3. IBM Cloud Container Registry plug-in (ibmcloud cr)\n\nRefer to the [link](https://cloud.ibm.com/docs/containers?topic=containers-cs_cli_install#cs_cli_install_steps) to install these.\n\n## Install Kubernetes CLI\n\nTo work with your cluster, you need to install the Kubernetes CLI. Please refer this [link](https://cloud.ibm.com/docs/containers?topic=containers-cs_cli_install#kubectl). \n\n## Gain access to your cluster\n\nGo to IBM Cloud dashboard and navigate to your Kubernetes cluster. Click on the `Access` tab as shown below.\n\n![Access Your Cluster](./images/access-cluster.png) \n\nPerform the steps given in `access` tab.\n\n<InlineNotification>\n\n**NOTE:**\nNeed to complete these configuration steps every time that you work with your cluster.\n\n</InlineNotification>\n\nVerify the environment using the following command.\n\n```bash\nkubectl config current-context\n```\n\nIt should return the details of the cluster that you are planning to work with.\n\n","fileAbsolutePath":"/Users/johandry/Workspace/ibm/att-cloudnative/ibmcloud-pattern-guide/src/pages/deploy-iks/setup-environment/index.mdx"}}}}